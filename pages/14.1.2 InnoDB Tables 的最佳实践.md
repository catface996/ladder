title:: 14.1.2 InnoDB Tables 的最佳实践

- 本节介绍使用 InnoDB表时的最佳实践。
- 使用最频繁查询的一个或多个列为每个表指定一个主键，如果没有明显的主键，则指定一个自动增量值。
- 在基于这些表中相同的 ID 值从多个表中提取数据的地方使用连接。为了快速连接性能，在连接列上定义外键，并在每个表中声明这些列具有相同的数据类型。添加外键可确保对引用的列进行索引，从而提高性能。外键还会将删除和更新传播到所有受影响的表，如果父表中不存在相应的 ID，则防止在子表中插入数据。
- 关闭自动提交。每秒提交数百次会限制性能（受存储设备的写入速度限制）。
- START TRANSACTION通过用和 COMMIT语句 将相关的 DML 操作组合成事务。虽然您不想过于频繁地提交，但您也不想发出大量 运行数小时而不提交 的INSERT、 UPDATE或 语句。DELETE
- 不要使用LOCK TABLES 语句。InnoDB可以同时处理多个会话，同时读取和写入同一个表，而不会牺牲可靠性或高性能。要获得对一组行的独占写入访问权限，请使用 SELECT ... FOR UPDATE语法仅锁定您打算更新的行。
- 启用 innodb_file_per_table 变量或使用通用表空间将表的数据和索引放入单独的文件而不是系统表空间。默认情况下启用该 innodb_file_per_table 变量。
- 评估您的数据和访问模式是否受益于InnoDB表或页面压缩功能。InnoDB您可以在不牺牲读/写能力的情况下 压缩表。
- 使用选项运行服务器 --sql_mode=NO_ENGINE_SUBSTITUTION 以防止使用您不想使用的存储引擎创建表。
- **总结：一句话，避免大事务**
-