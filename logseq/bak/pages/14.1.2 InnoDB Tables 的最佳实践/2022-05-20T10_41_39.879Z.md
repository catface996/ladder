title:: 14.1.2 InnoDB Tables 的最佳实践

- 使用最常查询的列为每个表指定一个主键，如果没有明显的主键，则指定一个自动递增值。
	- 只要单调递增即可，不一定要严格递增，方便后续的分库分表，以及业务日志检索。
- 在根据来自这些表的相同 ID 值从多个表中提取数据的地方使用联接。为了快速连接性能，请在连接列上定义外键，并在每个表中声明具有相同数据类型的列。添加外键可以确保引用的列被索引，这可以提高性能。外键还将删除和更新传播到所有受影响的表，并防止在父表中没有相应的 id 时在子表中插入数据。
	- 不建议做链表查询，可以不显式的创建外键，却应该保证外键与被参考的列有相同的数据类型。
- 关闭自动提交。每秒提交数百次会限制性能(受存储设备写入速度的限制)。
- 将相关 DML 操作集合分组到事务中，方法是将它们与 start transaction 和 COMMIT 语句相括起来。虽然您不希望提交过于频繁，但也不希望发出大量 INSERT、 UPDATE 或 DELETE 语句，这些语句在不提交的情况下运行数小时。
	- 一句话，避免大事务。
- 不要使用 LOCK TABLES 语句。InnoDB 可以同时处理同一个表的多个会话的读写操作，而不会牺牲可靠性和高性能。要获得对一组行的独占写访问权，请使用 SELECT... FOR UPDATE 语法锁定要更新的行。
- 启用 innodb _ file _ per _ table 变量或使用常规表空间将表的数据和索引放入单独的文件中，而不是系统表空间。默认情况下启用 innodb _ file _ per _ table 变量。
- 评估您的数据和访问模式是否受益于 InnoDB 表或页面压缩特性。您可以压缩 InnoDB 表而不牺牲读/写功能。
- 使用  --sql_mode=NO_ENGINE_SUBSTITUTION  选项运行服务器，以防止使用您不想使用的存储引擎创建表。
-
-
-
-
-